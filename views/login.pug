extends layout

block stylesheets
	link(rel="stylesheet", href="/stylesheets/login.css")

block content
	.container#login
		.row
			.col.s12.m8.offset-m2.l6.offset-l3.xl4.offset-xl4
				.card#form
					form(@submit.prevent="submit")
						.input-field
							input#email.validate(type="email", ref="userEmail", v-model="user.email", required)
							label(for="email") Email
						.input-field(v-show="stage=='register'")
							input#forename.validate(type="text", v-model="user.forename", :required="stage=='register'")
							label(for="forename") Forename
						.input-field(v-show="stage=='register'")
							input#name.validate(type="text", v-model="user.name", :required="stage=='register'")
							label(for="name") Name
						#submit.center-align
							button#submit.waves-effect.waves-light.btn(@click.prevent="submit")
								span {{ messages[stage] }}
								i.material-icons.right send
						#toggle.center-align
							span(v-show="stage!='login'", @click="toggleStage('login')") Login
							span(v-show="stage!='register'", @click="toggleStage('register')") Register
				.card#dialog.hide

block javascripts
	script(src="/javascripts/utils/dialog.js")
	script(src="/javascripts/utils/validation.js")
	script(src="/javascripts/login.js")
